# 그래프

## 그래프의 정의

그래프 G는 다음 두가지의 집합으로 구성되며 G={V, E}로 표시한다.

V는 정점(vertex)들의 집합이며, E는 선(edge)들의 집합이다.



임의의 연결선 e=(u,v) 에 대해서 정점u와 v는 서로 **인접(adjacent)**했다고 하며, e는 정점 u와 정점 v에 **점합(incident)**한다고 말한다.

연결선의 두 끝점이 같은 정점이면 이 연결선을 **루프(loop)**라고 한다.

두 정점 u와 v사이에 연결선이 존재하면 두 정점은 **연결(connected)**되었다고 한다.

두 정점의 연결선이 두개 이상일 때 다중 연결선 이라고 한다.

차수(degree): 정점 u에 접합된 연결선의 수



길이(length): 두 정점의 경로를 구성하는 연결선의 수

거리(distance): 두 정점 간의 최단 경로의 길이

닫힌 경로(closed path): 만약 경로 {v1, v2,..., vn}에서 v1 = vn인 경로

순환(cycle): 3개 이상의 연결선을 갖는 경로에서 어떤 연결선도 중복되지 않는 닫힌 경로(closed path)



단순그래프: 루프나 다중 연결선이 없는 그래프

완전 그래프: G={V, E}가 모든 정점 사이에 연결선이 존재하면 G를 환전 그래프 라고 한다.

이분 그래프: 인접한 정점끼리 서로 다른 색으로 칠해서 모든 정점을 두 가지 색으로만 칠할 수 있는 그래프.
https://gmlwjd9405.github.io/2018/08/23/algorithm-bipartite-graph.html

평면 그래프: 그래프 G의 연결선들이 서로 교차하지 않고 평면상에 그릴 수 있는 그래프

부분 그래프: 그래프 G={V, E}가 있을때 V'가 V에 포함되고 E'가 E에 포함되는 그래프 G' = {V', E'}를 G의 부분 그래프라고 한다.

동형 그래프 임의의 두 그래프 G={V, E}와 G'={V', E'}에 대해 다음의 조건을 만족하는 함수가 1:1관계의 함수이면 두 그래프 G와 G'를 동형 그래프라고 한다.

- 함수 f: v -> v' (v는 V의 원소, v'는 V'의 원소)
- (x,y) 가 E의 원소 <-> (f(x), f(y))가 E'의 원소

- 그냥 쉽게말해서 정점 잘 이동시켜서 같은 모양 만들수 있는 두 그래프

면: 연결선에 따라 구분된 영력을 면(face)라고 한다.

방향 그래프: 그래프 G에서 연결선의 두 정점이 순서쌍일 때 G를 방향 그래프라고 한다.



---

오일러 경로: 그래프 G의 모든 연결선을 한번만 방문하는 경로

오일러 순환: 시작점과 끝점이 동일한 오일러 경로

오일러 그래프: 오일러 순환이 존재하는 그래프



오일러 경로를 갖기 위한 필요충분 조건:

2개 이상의 정점을 갖는 루프가 없는 연결 그래프에서 홀로 차수(odd degree)를 갖는 정점이 하나도 없거나 오직 두개만 존재해야 한다.

특시 모든 정점이 짝수 차수를 가지면 오일러 순환이 존재하며 이 그래프는 오일러 그래프이다.

---

해밀턴 경로: 그래프에서 모든 정점을 정확히 한번만 지나는 경로

해밀턴 순환: 시작점과 끝점이 같은 해밀턴 경로



해밀턴 순환 알고리즘

- Exhaustive Search(전수 조사)
- 탐색해야 되는 경로의 수: 트리의 leaf의 수
- 트리의 높이: n + 1
- leaf의 수: 2^n



해밀턴 순환 찾는 알고리즘 복잡도

- 알고리즘 복잡도: O(x^n) n은 정점의 수
- 복잡도는 함수는 다항식이 아니라 지수식이다.
- 몹시 어려운 문제
- 유사한 복잡도 문제
  - 암호 해독
  - 바둑
  - Bin packing 등등



### 방문 판매원 문제(Traveling Salesman Problem)

- 연결선에는 비용이 주어진다.
- 일반적으로 완전 그래프
- 이그래프에서 비용이 최소가 되는 해밀톤 순환을 찾는 문제

알고리즘 1

- 모든 해밀턴 순환을 찾아서 합한 비용이 가장 작은 순환을 선택 (Exhaustive Search)

알고리즘 2

- 단순 TSP알고리즘

  - 하나의 정점을 선택하여 출발점으로 한다.
  - 이정점에 연결된 연결선의 비용이 가장 작은 정점을 선택한다.
  - 이 정점에서부터 아직 선택되지 않은 정점들 중에서 연결선의 비용이 가장 작은 정점을 선택한다.
  - 모든 정점을 선택할 때까지 2, 3의 절차를 반복한다.

  이 알고리즘은 항상 최적의 해를 찾을 수 있는가? NO



# 그래프 채색문제와 탐욕 알고리즘

## 그래프의 채색

- 인접하고 있는 정점들을 서로 다른색을 갖도록 하면서 그래프의 모든 정점에 색을 할당

색상 수

- 그래프 채색에 필요한 최소한의 색의 수



알고리즘

- 모든 정점들의 순서를 정한다. : (v1, v2, v3, ..., vn)
- 모든 색상들의 순서를 정한다. : (c1, c2, c3, ..., cn)
- From v1 to vn 그래프 채색의 조건을 만족하는 색상중에서 가장 낮은 번호의 색상을 선택하여 vi에 배정한다.



## Greedy 알고리즘

- 결정을 할 때 마다 최종 결과에 관계없이 그 순간에서 최선의 선택을 한다.
- 그 순간의 선택은 그 순간에서 최적의 선택이다.
- 하지만 최족의 결과가 최적이라는 보장은 없다.



# 최소신장트리 (Minimum Spanning Tree)

## 신장트리

그래프 G={V, E}에서 V의 모든 정점을 포함하면서 순환이 존재하지 않는 부분그래프를 신장 트리라고 한다.



## 최소신장트리

가중 그래프에서 가중치의 합을 최소로 하는 신장 트리를 최소신장트리라고 한다.

최소신장트리 알고리즘

- Prim 알고리즘
  - https://www.weeklyps.com/entry/%ED%94%84%EB%A6%BC-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-Prims-algorithm
  - Greedy 알고리즘
  - 하지만 Prim알고리즘은 모든 그래프에 대해서 최적의 해를 구한다.
- Kruskal 알고리즘
  - https://github.com/ggpp0909/problem_solving/blob/main/%EC%A0%95%EB%A6%AC/Union%20%26%20Find.md



# 최단경로 알고리즘

## Dijkstra

- https://github.com/ggpp0909/problem_solving/blob/main/%EC%A0%95%EB%A6%AC/dijkstra.md

## Bellman-Ford 알고리즘

- Single-source에서 모든 정점까지의 최단 거리 결정
- 방향, 비방향 그래프에 모두 적용
- 가중치가 음수 일 때도 적용
  - 하지만, 순환을 구성하는 연결선의 가중치를 합은 양수여야 한다.
- internet의 라우팅 프로토콜에서 사용

https://sorjfkrh5078.tistory.com/30